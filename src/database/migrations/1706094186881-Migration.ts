import { MigrationInterface, QueryRunner } from 'typeorm';

export class Migration1706094186881 implements MigrationInterface {
  name = 'Migration1706094186881';

  public async up(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(
      `ALTER TABLE "user" RENAME COLUMN "profile" TO "profileImageUrl"`,
    );
    await queryRunner.query(
      `CREATE TABLE "profile" ("id" character varying NOT NULL, "createdAt" TIMESTAMP NOT NULL DEFAULT now(), "updatedAt" TIMESTAMP NOT NULL DEFAULT now(), "deletedAt" TIMESTAMP, "userId" character varying NOT NULL, "name" character varying NOT NULL, "isRepresentative" boolean NOT NULL, "eduCategory1" character varying, "eduSchoolName1" character varying, "eduMajor1" character varying, "eduAdmissionDate1" TIMESTAMP, "eduGraduationDate1" TIMESTAMP, "eduIsAttending1" boolean, "eduCategory2" character varying, "eduSchoolName2" character varying, "eduMajor2" character varying, "eduAdmissionDate2" TIMESTAMP, "eduGraduationDate2" TIMESTAMP, "eduIsAttending2" boolean, "eduCategory3" character varying, "eduSchoolName3" character varying, "eduMajor3" character varying, "eduAdmissionDate3" TIMESTAMP, "eduGraduationDate3" TIMESTAMP, "eduIsAttending3" boolean, "eduCategory4" character varying, "eduSchoolName4" character varying, "eduMajor4" character varying, "eduAdmissionDate4" TIMESTAMP, "eduGraduationDate4" TIMESTAMP, "eduIsAttending4" boolean, "eduCategory5" character varying, "eduSchoolName5" character varying, "eduMajor5" character varying, "eduAdmissionDate5" TIMESTAMP, "eduGraduationDate5" TIMESTAMP, "eduIsAttending5" boolean, "careerCompanyName1" character varying, "careerRole1" character varying, "careerJoinDate1" TIMESTAMP, "careerQuitDate1" TIMESTAMP, "careerIsWorking1" boolean, "careerCompanyName2" character varying, "careerRole2" character varying, "careerJoinDate2" TIMESTAMP, "careerQuitDate2" TIMESTAMP, "careerIsWorking2" boolean, "careerCompanyName3" character varying, "careerRole3" character varying, "careerJoinDate3" TIMESTAMP, "careerQuitDate3" TIMESTAMP, "careerIsWorking3" boolean, "careerCompanyName4" character varying, "careerRole4" character varying, "careerJoinDate4" TIMESTAMP, "careerQuitDate4" TIMESTAMP, "careerIsWorking4" boolean, "careerCompanyName5" character varying, "careerRole5" character varying, "careerJoinDate5" TIMESTAMP, "careerQuitDate5" TIMESTAMP, "careerIsWorking5" boolean, "careerCompanyName6" character varying, "careerRole6" character varying, "careerJoinDate6" TIMESTAMP, "careerQuitDate6" TIMESTAMP, "careerIsWorking6" boolean, "careerCompanyName7" character varying, "careerRole7" character varying, "careerJoinDate7" TIMESTAMP, "careerQuitDate7" TIMESTAMP, "careerIsWorking7" boolean, "careerCompanyName8" character varying, "careerRole8" character varying, "careerJoinDate8" TIMESTAMP, "careerQuitDate8" TIMESTAMP, "careerIsWorking8" boolean, "careerCompanyName9" character varying, "careerRole9" character varying, "careerJoinDate9" TIMESTAMP, "careerQuitDate9" TIMESTAMP, "careerIsWorking9" boolean, "careerCompanyName10" character varying, "careerRole10" character varying, "careerJoinDate10" TIMESTAMP, "careerQuitDate10" TIMESTAMP, "careerIsWorking10" boolean, "skill" character varying NOT NULL DEFAULT '', "portfolioUrl" character varying NOT NULL DEFAULT '', "portfolioFile" character varying NOT NULL DEFAULT '', CONSTRAINT "PK_3dd8bfc97e4a77c70971591bdcb" PRIMARY KEY ("id")); COMMENT ON COLUMN "profile"."id" IS 'id'; COMMENT ON COLUMN "profile"."createdAt" IS '프로필 등록일'; COMMENT ON COLUMN "profile"."updatedAt" IS '프로필 수정일'; COMMENT ON COLUMN "profile"."deletedAt" IS '프로필 삭제일'; COMMENT ON COLUMN "profile"."userId" IS '프로필을 등록한 사용자 ID'; COMMENT ON COLUMN "profile"."name" IS '프로필 제목'; COMMENT ON COLUMN "profile"."isRepresentative" IS '대표 프로필 여부'; COMMENT ON COLUMN "profile"."eduCategory1" IS '학력1>분류'; COMMENT ON COLUMN "profile"."eduSchoolName1" IS '학력1>학교이름'; COMMENT ON COLUMN "profile"."eduMajor1" IS '학력1>전공'; COMMENT ON COLUMN "profile"."eduAdmissionDate1" IS '학력1>입학일자'; COMMENT ON COLUMN "profile"."eduGraduationDate1" IS '학력1>졸업일자'; COMMENT ON COLUMN "profile"."eduIsAttending1" IS '학력1>재학중 여부'; COMMENT ON COLUMN "profile"."eduCategory2" IS '학력2>분류'; COMMENT ON COLUMN "profile"."eduSchoolName2" IS '학력2>학교이름'; COMMENT ON COLUMN "profile"."eduMajor2" IS '학력2>전공'; COMMENT ON COLUMN "profile"."eduAdmissionDate2" IS '학력2>입학일자'; COMMENT ON COLUMN "profile"."eduGraduationDate2" IS '학력2>졸업일자'; COMMENT ON COLUMN "profile"."eduIsAttending2" IS '학력2>재학중 여부'; COMMENT ON COLUMN "profile"."eduCategory3" IS '학력3>분류'; COMMENT ON COLUMN "profile"."eduSchoolName3" IS '학력3>학교이름'; COMMENT ON COLUMN "profile"."eduMajor3" IS '학력3>전공'; COMMENT ON COLUMN "profile"."eduAdmissionDate3" IS '학력3>입학일자'; COMMENT ON COLUMN "profile"."eduGraduationDate3" IS '학력3>졸업일자'; COMMENT ON COLUMN "profile"."eduIsAttending3" IS '학력3>재학중 여부'; COMMENT ON COLUMN "profile"."eduCategory4" IS '학력4>분류'; COMMENT ON COLUMN "profile"."eduSchoolName4" IS '학력4>학교이름'; COMMENT ON COLUMN "profile"."eduMajor4" IS '학력4>전공'; COMMENT ON COLUMN "profile"."eduAdmissionDate4" IS '학력4>입학일자'; COMMENT ON COLUMN "profile"."eduGraduationDate4" IS '학력4>졸업일자'; COMMENT ON COLUMN "profile"."eduIsAttending4" IS '학력4>재학중 여부'; COMMENT ON COLUMN "profile"."eduCategory5" IS '학력5>분류'; COMMENT ON COLUMN "profile"."eduSchoolName5" IS '학력5>학교이름'; COMMENT ON COLUMN "profile"."eduMajor5" IS '학력5>전공'; COMMENT ON COLUMN "profile"."eduAdmissionDate5" IS '학력5>입학일자'; COMMENT ON COLUMN "profile"."eduGraduationDate5" IS '학력5>졸업일자'; COMMENT ON COLUMN "profile"."eduIsAttending5" IS '학력5>재학중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName1" IS '경력1>회사이름'; COMMENT ON COLUMN "profile"."careerRole1" IS '경력1>역할'; COMMENT ON COLUMN "profile"."careerJoinDate1" IS '경력1>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate1" IS '경력1>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking1" IS '경력1>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName2" IS '경력2>회사이름'; COMMENT ON COLUMN "profile"."careerRole2" IS '경력2>역할'; COMMENT ON COLUMN "profile"."careerJoinDate2" IS '경력2>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate2" IS '경력2>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking2" IS '경력2>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName3" IS '경력3>회사이름'; COMMENT ON COLUMN "profile"."careerRole3" IS '경력3>역할'; COMMENT ON COLUMN "profile"."careerJoinDate3" IS '경력3>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate3" IS '경력3>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking3" IS '경력3>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName4" IS '경력4>회사이름'; COMMENT ON COLUMN "profile"."careerRole4" IS '경력4>역할'; COMMENT ON COLUMN "profile"."careerJoinDate4" IS '경력4>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate4" IS '경력4>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking4" IS '경력4>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName5" IS '경력5>회사이름'; COMMENT ON COLUMN "profile"."careerRole5" IS '경력5>역할'; COMMENT ON COLUMN "profile"."careerJoinDate5" IS '경력5>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate5" IS '경력5>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking5" IS '경력5>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName6" IS '경력6>회사이름'; COMMENT ON COLUMN "profile"."careerRole6" IS '경력6>역할'; COMMENT ON COLUMN "profile"."careerJoinDate6" IS '경력6>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate6" IS '경력6>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking6" IS '경력6>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName7" IS '경력7>회사이름'; COMMENT ON COLUMN "profile"."careerRole7" IS '경력7>역할'; COMMENT ON COLUMN "profile"."careerJoinDate7" IS '경력7>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate7" IS '경력7>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking7" IS '경력7>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName8" IS '경력8>회사이름'; COMMENT ON COLUMN "profile"."careerRole8" IS '경력8>역할'; COMMENT ON COLUMN "profile"."careerJoinDate8" IS '경력8>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate8" IS '경력8>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking8" IS '경력8>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName9" IS '경력9>회사이름'; COMMENT ON COLUMN "profile"."careerRole9" IS '경력9>역할'; COMMENT ON COLUMN "profile"."careerJoinDate9" IS '경력9>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate9" IS '경력9>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking9" IS '경력9>재직중 여부'; COMMENT ON COLUMN "profile"."careerCompanyName10" IS '경력10>회사이름'; COMMENT ON COLUMN "profile"."careerRole10" IS '경력10>역할'; COMMENT ON COLUMN "profile"."careerJoinDate10" IS '경력10>입사일자'; COMMENT ON COLUMN "profile"."careerQuitDate10" IS '경력10>퇴사일자'; COMMENT ON COLUMN "profile"."careerIsWorking10" IS '경력10>재직중 여부'; COMMENT ON COLUMN "profile"."skill" IS '스킬'; COMMENT ON COLUMN "profile"."portfolioUrl" IS '포트폴리오 url'; COMMENT ON COLUMN "profile"."portfolioFile" IS '포트폴리오 파일'`,
    );
    await queryRunner.query(
      `ALTER TABLE "project" ALTER COLUMN "content" SET DEFAULT ''`,
    );
    await queryRunner.query(
      `ALTER TABLE "profile" ADD CONSTRAINT "FK_a24972ebd73b106250713dcddd9" FOREIGN KEY ("userId") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`,
    );
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(
      `ALTER TABLE "profile" DROP CONSTRAINT "FK_a24972ebd73b106250713dcddd9"`,
    );
    await queryRunner.query(
      `ALTER TABLE "project" ALTER COLUMN "content" SET DEFAULT ''`,
    );
    await queryRunner.query(`DROP TABLE "profile"`);
    await queryRunner.query(
      `ALTER TABLE "user" RENAME COLUMN "profileImageUrl" TO "profile"`,
    );
  }
}
